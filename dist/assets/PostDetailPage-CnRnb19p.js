import{y as p,r,a as f,s as x,j as e}from"./index-xTlhfwH_.js";import{u as g}from"./postStore-YphC3Icg.js";import{P as v}from"./PostCard-BB3LA0Fz.js";import P from"./NotFoundPage-DEO8R1tF.js";import"./endOfMonth-DDLc67zj.js";import"./native-BxOvQqIv.js";import"./ellipsis-dnFBE6sL.js";import"./share-2-D7O3k4-c.js";const S=()=>{const{id:s}=p(),{posts:i}=g(),[n,a]=r.useState(null),[u,o]=r.useState(!0),d=f();return r.useEffect(()=>{const l=i.find(t=>t.id===s);l?(a(l),o(!1)):s&&(async()=>{var m;o(!0);const{data:t,error:c}=await x.from("posts").select("*").eq("id",s).single();a(t&&!c?{id:t.id,userId:t.autor_id,type:t.tipo,content:t.contenido,mediaUrl:(m=t.multimedia_url)==null?void 0:m[0],createdAt:t.creado_en,likes:[],comments:[],isFavorite:!1}:null),o(!1)})()},[s,i]),u?e.jsx("div",{className:"p-8 text-center",children:"Cargando..."}):n?e.jsxs("div",{className:"max-w-xl mx-auto p-4",children:[e.jsx("button",{onClick:()=>d("/"),className:"text-primary-600 dark:text-primary-400 hover:underline mb-4",children:"← Volver a inicio"}),e.jsx(v,{post:n,disableCardNavigation:!0,onDeleted:()=>d("/")})]}):e.jsx(P,{})};export{S as default};
